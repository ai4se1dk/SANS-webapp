# Technology Stack

**Analysis Date:** 2026-02-05

## Languages

**Primary:**
- Python 3.10+ - Entire application, from web framework to scientific computing

## Runtime

**Environment:**
- Python 3.10+ (as defined in `pyproject.toml`)
- Streamlit runtime

**Package Manager:**
- pip (with setuptools)
- pixi (workspace/environment management)
- Lockfile: `pixi.lock` present

## Frameworks

**Core:**
- Streamlit 1.28.0+ - Web framework for interactive data analysis UI
- sans-fitter 0.0.3+ - SANS curve fitting engine, wraps sasmodels optimization
- FastMCP 1.0+ - Model Context Protocol server for Claude integration

**Scientific Computing:**
- NumPy 1.20+ - Numerical array operations for scattering data
- SciPy 1.7+ - Scientific computing (optimization, statistics)
- Matplotlib 3.5+ - Base plotting library
- Plotly 5.17.0+ - Interactive visualizations (zoom, pan, export)
- SasModels 1.0+ - Physical models for SANS (sphere, cylinder, ellipsoid, etc.)
- SasData 0.8+ - SANS data file I/O and handling
- Pandas 2.0.0+ - Data manipulation and CSV import/export

**Optimization/Fitting:**
- BUMPS 0.9+ - Curve fitting optimization engine
- LMFit - Alternative optimization via sans-fitter wrapping

**AI Integration:**
- Anthropic 1.0.0+ - Claude API client for AI assistant with tool use
- OpenAI 1.0.0+ - Legacy OpenAI integration (gpt-4o) for model suggestions

**Development/Code Quality:**
- Ruff 0.8.0+ - Linter and formatter (replaces black + isort + flake8)

**Testing:**
- pytest 7.0+ - Test runner
- pytest-cov 4.0+ - Coverage reporting

## Key Dependencies

**Critical:**
- `sans-fitter` - Core fitting engine; without it, no model fitting possible
  - Wraps sasmodels, bumps, and lmfit
- `fastmcp` - Enables Claude MCP tool integration for AI assistant
- `streamlit` - UI framework; entire application depends on it

**Infrastructure:**
- `anthropic` - Claude API access for intelligent model suggestions and MCP tools
- `openai` - Legacy support for GPT-4o fallback (when AI tools disabled)
- `numpy`, `scipy` - Numerical computing foundation
- `sasmodels` - Physical scattering models database (100+ models)
- `plotly` - Real-time interactive visualization of fits

## Configuration

**Environment:**
- Configured via `ANTHROPIC_API_KEY` environment variable
- Optional: Can be set in Streamlit sidebar at runtime
- Required for: Claude AI assistant and MCP tool features (optional, app works without)
- Environment template: `.env.template`

**Build:**
- `pyproject.toml` - Project metadata, dependencies, tool configs
- `pixi.lock` - Locked versions for reproducible environments across platforms
- `setup.py` - Generated by setuptools from pyproject.toml
- `.pre-commit-config.yaml` - Git hooks for code quality (ruff)

**Development Tasks (via pixi):**
- `pixi run test` - Run pytest
- `pixi run test-coverage` - Generate coverage report
- `pixi run format` - Format with ruff
- `pixi run lint` - Lint with ruff
- `pixi run run-dev` - Launch Streamlit dev server

## Platform Requirements

**Development:**
- Python 3.10+
- C/C++/Fortran compiler (for SasModels/SciPy wheels on some platforms)
- pip/pixi package manager

**Production:**
- Docker: Dockerfile provided with system dependencies for scientific stack
  - Base: `python:3.10-slim`
  - System deps: gcc, g++, gfortran, libgomp1
  - Port: 8501 (Streamlit)
  - Health check: HTTP endpoint at `/_stcore/health`

**Deployment Targets:**
- Heroku (Procfile configured)
- Docker containers
- Streamlit Cloud
- Bare metal with Python 3.10+

---

*Stack analysis: 2026-02-05*
